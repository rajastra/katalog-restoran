{"version":3,"file":"app~a51fa3f5.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/data/favorite-resto-idb.js","webpack://restaurant-apps/./src/scripts/globals/api-endpoint.js","webpack://restaurant-apps/./src/scripts/data/therestaurant-source.js","webpack://restaurant-apps/./src/scripts/globals/config.js","webpack://restaurant-apps/./src/scripts/index.js"],"sourcesContent":["import { openDB } from \"idb\";\r\nimport CONFIG from \"../globals/config\";\r\n\r\nconst { DATABASE_NAME, DATABASE_VERSION, OBJECT_STORE_NAME } = CONFIG;\r\n\r\nconst dbPromise = openDB(DATABASE_NAME, DATABASE_VERSION, {\r\n  upgrade(database) {\r\n    database.createObjectStore(OBJECT_STORE_NAME, { keyPath: \"id\" });\r\n  },\r\n});\r\n\r\nconst FavoriteRestoIdb = {\r\n  async getResto(id) {\r\n    if (!id) return;\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return (await dbPromise).get(OBJECT_STORE_NAME, id);\r\n  },\r\n  async getAllResto() {\r\n    return (await dbPromise).getAll(OBJECT_STORE_NAME);\r\n  },\r\n  async putResto(resto) {\r\n    // eslint-disable-next-line no-prototype-builtins\r\n    if (!resto.hasOwnProperty(\"id\")) {\r\n      return;\r\n    }\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return (await dbPromise).put(OBJECT_STORE_NAME, resto);\r\n  },\r\n  async deleteResto(id) {\r\n    return (await dbPromise).delete(OBJECT_STORE_NAME, id);\r\n  },\r\n\r\n  // eslint-disable-next-line no-unused-vars, no-empty-function\r\n  async searchResto(query) {\r\n    return (await this.getAllResto()).filter((resto) => {\r\n      const loweredCaseRestoTitle = (resto.name || \"-\").toLowerCase();\r\n      const jammedRestoTitle = loweredCaseRestoTitle.replace(/\\s/g, \"\");\r\n      const loweredCaseQuery = query.toLowerCase();\r\n      const jammedQuery = loweredCaseQuery.replace(/\\s/g, \"\");\r\n      return jammedRestoTitle.indexOf(jammedQuery) !== -1;\r\n    });\r\n  },\r\n};\r\n\r\nexport default FavoriteRestoIdb;\r\n","import CONFIG from \"./config\";\r\n\r\nconst API_ENDPOINT = {\r\n  LIST: `${CONFIG.BASE_URL}/list`,\r\n  DETAIL: (id) => `${CONFIG.BASE_URL}/detail/${id}`,\r\n  REVIEW: `${CONFIG.BASE_URL}/review`,\r\n};\r\n\r\nexport default API_ENDPOINT;\r\n","import API_ENDPOINT from \"../globals/api-endpoint\";\r\n\r\nclass TheRestaurantSource {\r\n  static async restaurantList() {\r\n    const response = await fetch(API_ENDPOINT.LIST);\r\n    const responseJson = await response.json();\r\n    return responseJson.restaurants;\r\n  }\r\n\r\n  static async detailRestaurant(id) {\r\n    const response = await fetch(API_ENDPOINT.DETAIL(id));\r\n    return response.json();\r\n  }\r\n\r\n  static async postReview(data) {\r\n    const response = await fetch(API_ENDPOINT.REVIEW, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n    return response.json();\r\n  }\r\n}\r\n\r\nexport default TheRestaurantSource;\r\n","const CONFIG = {\r\n  BASE_URL: \"https://restaurant-api.dicoding.dev\",\r\n  BASE_IMAGE_URL: \"https://restaurant-api.dicoding.dev/images/medium\",\r\n  CACHE_NAME: new Date().toISOString(),\r\n  DATABASE_NAME: \"restaurant-apps-database\",\r\n  DATABASE_VERSION: 1,\r\n  OBJECT_STORE_NAME: \"restaurants\",\r\n};\r\n\r\nexport default CONFIG;\r\n","import \"regenerator-runtime\";\nimport \"../styles/main.scss\";\nimport \"./views/components/app-bar\";\nimport \"./views/components/footer\";\nimport \"lazysizes\";\nimport \"lazysizes/plugins/parent-fit/ls.parent-fit\";\nimport App from \"./views/app\";\nimport swRegister from \"./utils/sw-register\";\n\nconst app = new App({\n  button: document.querySelector(\"#hamburgerButton\"),\n  drawer: document.querySelector(\"#navigationDrawer\"),\n  content: document.querySelector(\"#mainContent\"),\n});\n\nwindow.addEventListener(\"hashchange\", () => {\n  app.renderPage();\n});\n\nwindow.addEventListener(\"load\", () => {\n  app.renderPage();\n  swRegister();\n});\n"],"names":["openDB","CONFIG","DATABASE_NAME","DATABASE_VERSION","OBJECT_STORE_NAME","dbPromise","upgrade","database","createObjectStore","keyPath","FavoriteRestoIdb","getResto","id","get","getAllResto","getAll","putResto","resto","hasOwnProperty","put","deleteResto","searchResto","query","filter","loweredCaseRestoTitle","name","toLowerCase","jammedRestoTitle","replace","loweredCaseQuery","jammedQuery","indexOf","API_ENDPOINT","LIST","BASE_URL","DETAIL","REVIEW","TheRestaurantSource","fetch","response","json","responseJson","restaurants","data","method","headers","body","JSON","stringify","BASE_IMAGE_URL","CACHE_NAME","Date","toISOString","App","swRegister","app","button","document","querySelector","drawer","content","window","addEventListener","renderPage"],"sourceRoot":""}